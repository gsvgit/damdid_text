\begin{figure}[htbp] 
    \centering
    \resizebox{1\textwidth}{!}{
    \begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=1.6cm, semithick, every node/.style={font=\large}]

    \node[state]         (A)              {$R^{q_4,v_0}_{q_5,v_0}$};
    \node[state]         (B) [right of=A] {$S$};
    \node[state]         (C) [right of=B] {$R^{q_0,v_0}_{q_3,v_0}$};
    \node[state]         (D) [right of=C] {$I_{q_2,v_1}$};
    \node[state]         (E) [right of=D] {$R^{q_0,v_0}_{q_2,v_1}$};
    \node[state]         (F) [above of=E] {$R^{q_2,v_1}_{q_3,v_0}$}; 	
    \node[state]         (G) [right of=E] {$I_{q_1,v_0}$};
    \node[state]         (H) [right of=F] {$b$};
    \node[state]         (J) [right of=G] {$R^{q_0,v_0}_{q_1,v_0}$};
    \node[state]         (I) [above of=J] {$R^{q_1,v_0}_{q_2,v_1}$};
    \node[state]         (K) [below right of=J] {$a$};
    \node[state]         (L) [above right of=I] {$I_{q_1,v_0}$};
    \node[state]         (M) [above right of=L] {$S$};
    \node[state]         (N) [right of=M] {$R^{q_0,v_0}_{q_3,v_1}$};
    \node[state]         (O) [right of=N] {$I_{q_1,v_0}$};
    \node[state]         (P) [above of=O] {$I_{q_2,v_0}$};
    \node[state]         (R) [right of=P] {$R^{q_0,v_0}_{q_2,v_0}$};
    \node[state]         (S) [above of=R] {$R^{q_2,v_0}_{q_3,v_1}$};
    \node[state]         (T) [right of=O] {$R^{q_1,v_0}_{q_3,v_1}$};
    \node[state]         (U) [right of=T] {$b$};
    \node[state]         (V) [right of=S] {$b$};
    \node[state]         (W) [right of=R] {$I_{q_1,v_0}$};
    %\node[state]         (X) [right of=O] {$R^{q_0,v_0}_{q_1,v_0}$};
    \node[state]         (X) [above right of=W] {$R^{q_1,v_0}_{q_2,v_0}$};
    \node[state]         (Y) [above right of=X] {$S$};
    
    \path (A) edge          (B)
            (B) edge   (C)
            (C) edge   (D)
            (D) edge   (E)
            (D) edge   (F)
            (E) edge   (G)
            (F) edge   (H)
            (G) edge   (J)
            (G) edge   (I)
            (J) edge   (K)
            (I) edge   (L)
            (L) edge   (M)
            (M) edge   (N)
            (N) edge   (O)
            (N) edge   (P)
            (O) edge   (J)
            (O) edge   (T)
            (P) edge   (R)
            (R) edge   (W)
            (P) edge   (S)
            (T) edge   (U)
            (S) edge   (V)
            (W) edge[in=0, out=310]   (J)
            (W) edge   (X)
            (X) edge   (Y)
            (Y) edge[in=50, out=170]   (C)
            
            ;
    \end{tikzpicture}
    }
    \caption{The SPPF restored from the path index represented in~\ref{fig:sppf-matrix} for all paths from $v_0$ to $v_0$.}
    \label{fig:SPPF}
\end{figure}

